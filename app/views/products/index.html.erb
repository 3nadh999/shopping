<%= render 'layouts/header' %>

 <p id="notice"><%= notice %></p> 

<h1>Products</h1> 

<span>
 <%= form_tag  products_path , method:'GET' do %>
    <%= text_field_tag "search" %>
    <%= submit_tag "search" %>
  <% end %>
  
</span> 


<table class="table table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Price</th>
      <th>Manufacture date</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.price %></td>
        <td><%= product.manufacture_date %></td>
        <td> 
            <button class="btn btn-primary " data-target="#showmodal" data-toggle = "modal"> show </button>

            <% @product = product %>
            <%= render 'layouts/showmodal' %> 
        </td>
              

        
        <td>
           <button class="btn btn-primary " data-target="#editmodal" data-toggle = "modal"> edit </button>

            <% @product = product %>
            <%= render 'layouts/editmodal' %>
        </td>
        <td><button type="button" class="btn btn-danger"><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></button></td>
      </tr>

    <% end %>
  </tbody>
</table>


    <%= will_paginate @products, renderer: BootstrapPagination::Rails  %> 

<br>

<button type="button" class="btn btn-success"><%= link_to 'New Product', new_product_path %></button>

<button><%= link_to "printable Receipt (pdf)" , products_path(@products,format:"pdf") %></button>



<%= render 'layouts/footer' %>
